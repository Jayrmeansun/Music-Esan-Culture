<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>เครื่องดนตรีอีสาน</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://unpkg.com/three@0.134.0/examples/js/loaders/GLTFLoader.js"></script>
  <script src="https://unpkg.com/three@0.134.0/examples/js/controls/OrbitControls.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+Thai:wght@400;700&display=swap');
    body {
      background-color: #FAF9F6;
      font-family: 'Noto Serif Thai', sans-serif;
      color: #333333;
    }
    .instrument-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      background: linear-gradient(145deg, #FFFFFF, #F8FAFC);
      border-radius: 12px;
      overflow: hidden;
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
    }
    .instrument-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    .model-container {
      width: 100%;
      height: 320px;
      position: relative;
      border: 1px solid rgba(0, 0, 0, 0.05);
      border-radius: 8px;
      transition: transform 0.3s ease;
    }
    .model-container:hover {
      transform: scale(1.02);
    }
    .play-btn, .stop-btn, .play-narration-btn, .stop-narration-btn {
      background: linear-gradient(to right, #2E7D32, #4CAF50);
      transition: background 0.3s ease, transform 0.2s ease;
    }
    .play-btn:hover, .stop-btn:hover, .play-narration-btn:hover, .stop-narration-btn:hover {
      background: linear-gradient(to right, #EF6C00, #FF8C00);
      transform: translateY(-2px);
    }
    header {
      position: sticky;
      top: 0;
      z-index: 10;
    }
    @media (max-width: 640px) {
      .instrument-card {
        max-width: 100%;
        padding: 1rem;
      }
      .model-container {
        height: 280px;
      }
      .text-2xl {
        font-size: 1.5rem;
      }
      .text-lg {
        font-size: 1rem;
      }
    }
    @media (min-width: 641px) and (max-width: 1024px) {
      .instrument-card {
        max-width: 90%;
      }
      .model-container {
        height: 300px;
      }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-[#A33F1F] text-white py-8 text-center shadow-lg">
    <h1 class="text-5xl font-bold">เครื่องดนตรีอีสาน</h1>
    <p class="mt-3 text-xl">สำรวจมรดกทางวัฒนธรรมผ่านเสียงดนตรีแห่งอีสาน</p>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-6 py-12">
    <div class="grid grid-cols-1 gap-8">
      <!-- Instrument Card (พิณ) -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/phin.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('phin')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงพิณ">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">พิณ</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">เป็นเครื่องดนตรีที่บรรเลงด้วยการดีด มี ๒-๓ สาย แต่ขึ้นเป็นสองคู่ โดยขึ้นคู่ ๕ ดีดเป็นทำนองเพลง ตัวพิณและคันทวนนิยมแกะด้วยไม้ชิ้นเดียวกัน มีนมสำหรับตั้งเสียง สายพิณนิยมทำด้วยโลหะ โดยเฉพาะสายลวดเบรคจักรยาน ที่ดีดนิยมทำด้วยขาสัตว์แบนๆ เหลาให้บางพอที่จะดีดสะบัดได้</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('phin')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายพิณ">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- Instrument Card (โหวด) -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/wode.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('wot')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงโหวด">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">โหวด</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">โหวด เป็นเครื่องเป่าชนิดหนึ่งที่ไม่มีลิ้น เกิดจากกระแสลมที่เป่าผ่านไม้รวกหรือไม้ เฮี้ย (ไม้กู่แคน) หรือไม้ไผ่ ด้านรูเปิดของตัวโหวดทำด้วยไม้รวกขนาดเล็ก สั้น ยาว (เรียงลำดับตามความสูงต่ำของเสียง) ติดอยู่รอบกระบอกไม้ไผ่ที่ใช้เป็นแกนกลางติดไว้ด้วยขี้สูด มีจำนวน ๖-๙ เลา ความยาวประมาณ ๒๕ เซนติเมตร เวลาเป่าจะหมุนไปรอบๆตามเสียงที่ต้องการ</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('wot')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายโหวด">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- Instrument Card (แคน) -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/kane.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('khaen')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงแคน">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">แคน</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">แคน เป็นเครื่องดนตรีที่เป็นที่รู้จักมากที่สุดของชาวภาคอีสานเหนือ และอีสานกลางไม่รวมอีสานใต้ที่มีอิทธิพลเขมร ได้แก่ "แคน" แคนเป็นเครื่องดนตรีสมบูรณ์แบบที่สุด ที่มีประวัติความเป็นมาย้อนหลังไปหลายพันปี แคนทำด้วยไม้ซางมีลิ้นโลหะ เช่นดีบุก เงิน หรือทองแดง บางๆ ประกอบไว้ในส่วนที่ประกอบอยู่ในเต้าแคน แคนมีหลายขนาด เช่น แคน ๗ แคน ๙ ข้าง ๆ เต้าแคน ด้านบนมีรูปิดเปิดบังคับเสียง เวลา เป่า เป่า ที่เต้าแคนด้านหน้า ใช้มือทั้งสอง ประกอบจับเต้าแคนในลักษณะเฉียงเล็กน้อย แคนเป็นเครื่องดนตรีที่บรรเลงได้ทั้งทำนองเพลงประสานเสียง และให้จังหวะในตัวเอง จึงมีลีลาการบรรเลงที่วิจิตรพิสดารมาก ระบบเสียงของแคนเป็นทั้งระบบ ไดอะโทนิค และเพนตะโทนิค มีขั้น คู่เสียงที่เล่นได้ทั้งแบบตะวันตกและแบบไทยรวมทั้งคู่เสียงระดับเดียวกันอีกด้วย</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('khaen')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายแคน">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- โปงลาง -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/ponglang.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('ponglang')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงโปงลาง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">โปงลาง</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">โปงลางเป็นเครื่องดนตรีประเภทที่บรรเลงทำนองด้วยการตีเพียงชนิดเดียวของภาคอีสาน โดยบรรเลงร่วมกันกับแคน พิณและเครื่องประกอบจังหวะ หรือบรรเลงเดี่ยว ตัวโปงลางทำด้วยท่อนไม้แข็งขนาดต่างกันเรียงตามลำดับเสียงร้อยด้วยเชือกเป็นลูกระนาด ปลายข้างเสียงสูงผูกแขวนไว้กับกิ่งไม้ และข้างเสียงต่ำปล่อยทอดเยื้องลงมาคล้องไว้กับหัวแม่เท้าของผู้บรรเลง หรือคล้องกับวัสดุ ปกติผู้เล่นโปงลางรางหนึ่งมี ๒ คน คือคนบรรเลงทำนองเพลงกับคนบรรเลงเสียงกระทบแบบคู่ประสาน ไม้ที่ตีโปงลางทำด้วยไม้เนื้อแข็งเป็นรูปคล้ายค้อนตีด้วยมือสองข้าง ข้างละอัน ขนาดของโปงลางไม่มีมาตรฐานแน่นอน</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('ponglang')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายโปงลาง">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- หืน -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/huen.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('huen')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงหืน">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">หืน</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">หืน เป็นเครื่องดนตรีกึ่งดีดกึ่งเป่าอย่างหนึ่ง มีทั้งที่ทำด้วยไม้ไผ่และโลหะเซาะร่องตรงกลางเป็นลิ้นในตัว เวลาเล่นประกบหืนเข้ากับปาก ดีดที่ปลายข้างหนึ่งด้วยนิ้วหัวแม่มือ หรือนิ้วชี้ อาศัยกระพุ้งปากเป็นกล่องเสียง ทำให้เกิดเสียงสูงต่ำตามขนาดของกระพุ้งปากที่ทำสามารถดีดเป็นเสียงแท้คล้ายเสียงคนออกเสียงสระ เครื่องดนตรีนี้มีเล่นกันในพวกชนเผ่ามูเซอ เรียกชื่อว่า เปี๊ยะ เครื่องดนตรีชนิดนี้มิได้มีเฉพาะในประเทศไทยเท่านั้น แต่มีในทุกส่วนของโลก เช่น แถบมองโกเลีย ปาปัวนิวกินี อัฟริกา และยุโรป นับเป็นเครื่องดนตรีโบราณชิ้นหนึ่งที่น่าศึกษาอย่างยิ่ง</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('huen')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายหืน">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- จะเข้กระบือ -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/krabue.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('krabue')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงจะเข้กระบือ">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">จะเข้กระบือ</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">เป็นเครื่องดนตรีสำคัญชิ้นหนึ่งในวงมโหรีเขมร เป็นเครื่องดนตรีประเภทดีดในแนวนอน มี ๓ สาย สมัยก่อนสายทำจากเส้นไหมฟั่น ปัจจุบันทำจากสายเบรคจักรยาน การบรรเลงจะใช้มือซ้ายกดสายบนเสียงที่ต้องการ ส่วนมือขวาใช้สำหรับดีด</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('krabue')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายจะเข้กระบือ">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- กระจับปี่ -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/kachappi.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('jappey')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงกระจับปี่">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">กระจับปี่</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">เป็นเครื่องดนตรีประเภทดีด โดยใช้กระที่ทำจากเขาสัตว์ กล่องเสียงทำด้วยไม้ขนุนหรือไม้สัก ส่วนปลายสุดมีรู ๒ รู ใช้ใส่ลูกบิดและร้อยสาย เมื่อบรรเลงจะตั้งขนานกับลำตัว มือขวาจับกระสำหรับดีด มือซ้ายกดที่สายเพื่อเปลี่ยนระดับเสียง</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('jappey')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายกระจับปี่">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- ซอกันตรึม -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/kantrum.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('sawkantrum')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงซอกันตรึม">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">ซอกันตรึม</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">เป็นเครื่องสายใช้สี ทำด้วยไม้ กล่องเสียงขึงด้วยหนังงู มีช่องเสียงอยู่ด้านตรงข้ามหน้าซอ ใช้สายลวดมี ๒ สาย คันชักอยู่ระหว่างสาย คันซอยาวประมาณ ๖๐ เซนติเมตร มีลูกบิดอยู่ตอนนอกซอใช้รัด ด้วยเชือก ขนาดของซอแตกต่างกันไปตามความประสงค์ของผู้สร้าง โดยทั่วไปมี ๓ ขนาด คือ ขนาดเล็กเรียกตรัวจี้ ขนาดกลางเรียกตรัวเอก ขนาดใหญ่เรียกตรัวธม</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('sawkantrum')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายซอกันตรึม">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- กลองกันตรึม -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/klongkantrum.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('klongkantrum')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงกลองกันตรึม">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">กลองกันตรึม</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">เป็นเครื่องหนังชนิดหนึ่งทำด้วยไม้ขุดกลวง ขึงหน้าด้านหนึ่งด้วยหนังดึงให้ตึงด้วยเชือก ใช้ตีประกอบจังหวะในวงกันตรึม</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('klongkantrum')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายกลองกันตรึม">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- ปี่ไสล -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-6">
        <div class="relative">
          <div class="model-container" data-model="Models/pi_salai.glb"></div>
          <div class="absolute bottom-3 right-3 flex space-x-3">
            <button onclick="playSound('pi_salai')" class="play-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นเสียงปี่ไสล">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
              <span>เล่นเสียง</span>
            </button>
            <button onclick="stopSound()" class="stop-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดเสียง">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
              <span>หยุดเสียง</span>
            </button>
          </div>
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F]">ปี่ไสล</h2>
        <p class="text-[#4B5EAA] mt-3 leading-relaxed">ใช้บรรเลงในวงกันตรึมเป็นปี่ประเภทลิ้นคู่เช่นเดียวกับปี่ใน</p>
        <div class="mt-4 flex space-x-3">
          <button onclick="playNarration('pi_salai')" class="play-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="เล่นคำบรรยายปี่ไสล">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M8 5v10l10-5L8 5z"/></svg>
            <span>เล่นคำบรรยาย</span>
          </button>
          <button onclick="stopNarration()" class="stop-narration-btn text-white px-5 py-2.5 rounded-full flex items-center space-x-2" aria-label="หยุดคำบรรยาย">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M6 6h8v8H6z"/></svg>
            <span>หยุดคำบรรยาย</span>
          </button>
        </div>
      </div>

      <!-- QR Code Card -->
      <div class="instrument-card bg-white rounded-xl shadow-xl p-6 max-w-xs mx-auto transition-transform duration-300 hover:scale-105 hover:shadow-2xl">
        <div class="relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center">
          <img 
            src="Qr/Models_3D.png" 
            alt="QR Code to view 3D instrument model" 
            class="w-32 h-32 object-contain"
            loading="lazy"
          />
        </div>
        <h2 class="text-2xl font-bold mt-5 text-[#A33F1F] text-center">QR CODE</h2>
        <p class="text-[#4B5EAA] mt-3 text-center font-medium">สแกนเพื่อชมเครื่องดนตรี</p>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-[#A33F1F] text-white text-center py-6 mt-auto">
    <p class="text-lg">© 2025 เครื่องดนตรีอีสาน. สร้างสรรค์เพื่ออนุรักษ์วัฒนธรรม.</p>
    <p class="text-sm mt-2">อ้างอิงจาก กรมส่งเสริมวัฒนธรรม (สวธ.) กระทรวงวัฒนธรรม</p>
  </footer>

  <!-- JavaScript for Audio Playback and 3D Model Rendering -->
  <script>
    const audioFiles = {
      phin: new Audio('Sound/phin_ne.mp3'),
      wot: new Audio('Sound/wode.mp3'),
      khaen: new Audio('Sound/kane.mp3'),
      ponglang: new Audio('Sound/ponglang.mp3'),
      huen: new Audio('Sound/huen.mp3'),
      krabue: new Audio('Sound/krabue.mp3'),
      jappey: new Audio('Sound/jappey.mp3'),
      sawkantrum: new Audio('Sound/sawkantrum.mp3'),
      klongkantrum: new Audio('Sound/klongkantrum.mp3'),
      pi_salai: new Audio('Sound/pisli.mp3'),
      flute: new Audio('assets/sounds/flute.mp3')
    };

    const narrationFiles = {
      phin: new Audio('Sound/phin_narration.mp3'),
      wot: new Audio('Sound/wot_narration.mp3'),
      khaen: new Audio('Sound/khaen_narration.mp3'),
      ponglang: new Audio('Sound/ponglang_narration.mp3'),
      huen: new Audio('Sound/huen_narration.mp3'),
      krabue: new Audio('Sound/krabue_narration.mp3'),
      jappey: new Audio('Sound/jappey_narration.mp3'),
      sawkantrum: new Audio('Sound/sawkantrum_narration.mp3'),
      klongkantrum: new Audio('Sound/klongkantrum_narration.mp3'),
      pi_salai: new Audio('Sound/pi_salai_narration.mp3')
    };

    function playSound(instrument) {
      Object.values(audioFiles).forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
      Object.values(narrationFiles).forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
      audioFiles[instrument].currentTime = 0;
      audioFiles[instrument].play();
    }

    function stopSound() {
      Object.values(audioFiles).forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
    }

    function playNarration(instrument) {
      Object.values(audioFiles).forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
      Object.values(narrationFiles).forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
      narrationFiles[instrument].currentTime = 0;
      narrationFiles[instrument].play();
    }

    function stopNarration() {
      Object.values(narrationFiles).forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
    }

    // Three.js setup for 3D models
    const containers = document.querySelectorAll('.model-container');
    containers.forEach(container => {
      const scene = new THREE.Scene();
      scene.background = new THREE.Color(0xFAF9F6);
      const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
      const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: false });
      renderer.setSize(container.clientWidth, container.clientHeight);
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;
      container.appendChild(renderer.domElement);

      // Add lighting
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
      scene.add(ambientLight);
      const directionalLight = new THREE.DirectionalLight(0xffffff, 1.0);
      directionalLight.position.set(10, 10, 10);
      directionalLight.castShadow = true;
      directionalLight.shadow.mapSize.width = 2048;
      directionalLight.shadow.mapSize.height = 2048;
      directionalLight.shadow.camera.near = 0.1;
      directionalLight.shadow.camera.far = 100;
      directionalLight.shadow.camera.left = -50;
      directionalLight.shadow.camera.right = 50;
      directionalLight.shadow.camera.top = 50;
      directionalLight.shadow.camera.bottom = -50;
      directionalLight.shadow.bias = -0.0001;
      directionalLight.shadow.normalBias = 0.05;
      scene.add(directionalLight);

      // Add a circular base with wood-like texture
      const baseGeometry = new THREE.CylinderGeometry(100, 100, 6, 32);
      const baseMaterial = new THREE.MeshStandardMaterial({
        color: 0xA33F1F,
        roughness: 0.5,
        metalness: 0.1
      });
      const base = new THREE.Mesh(baseGeometry, baseMaterial);
      base.position.y = -25;
      base.receiveShadow = true;
      base.castShadow = false;
      scene.add(base);

      // OrbitControls for interactivity
      const controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.05;
      controls.enableZoom = true;
      controls.autoRotate = true;
      controls.autoRotateSpeed = 2.0;
      controls.enablePan = true;

      // Load GLB model
      const loader = new THREE.GLTFLoader();
      const modelPath = container.getAttribute('data-model');
      loader.load(
        modelPath,
        (gltf) => {
          const model = gltf.scene;
          model.traverse((child) => {
            if (child.isMesh) {
              child.castShadow = true;
              child.receiveShadow = true;
            }
          });
          scene.add(model);

          // Adjust model scale and position
          const box = new THREE.Box3().setFromObject(model);
          const center = box.getCenter(new THREE.Vector3());
          const size = box.getSize(new THREE.Vector3());
          const maxDim = Math.max(size.x, size.y, size.z);
          const scale = 80.0 / maxDim;
          model.scale.set(scale, scale, scale);
          model.position.sub(center.multiplyScalar(scale));
          model.position.y += size.y * scale * 0.2;

          // Adjust camera to show the full model
          camera.position.set(0, size.y * scale * 0.5, maxDim * scale * 1.2);
          camera.lookAt(0, size.y * scale * 0.2, 0);
        },
        undefined,
        (error) => {
          console.error('Error loading model:', error);
        }
      );

      // Animation loop
      function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
      }
      animate();

      // Handle window resize
      window.addEventListener('resize', () => {
        const width = container.clientWidth;
        const height = container.clientHeight;
        renderer.setSize(width, height);
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
      });
    });
  </script>
</body>
</html>