<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>เครื่องดนตรีอีสาน</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://unpkg.com/three@0.134.0/examples/js/loaders/GLTFLoader.js"></script>
  <script src="https://unpkg.com/three@0.134.0/examples/js/controls/OrbitControls.js"></script>
  <style>
    body {
      background-color: #F5F5DC; /* สีครีมเป็นพื้นหลัง */
      font-family: 'TH Sarabun New', sans-serif;
    }
    .instrument-card {
      transition: transform 0.3s;
    }
    .instrument-card:hover {
      transform: scale(1.05);
    }
    .model-container {
      width: 100%;
      height: 300px; /* Increased height for better 3D model display */
      position: relative;
      overflow: hidden;
      border-radius: 8px;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-[#8B4513] text-white py-6 text-center">
    <h1 class="text-4xl font-bold">เครื่องดนตรีอีสาน</h1>
    <p class="mt-2 text-lg">สำรวจมรดกทางวัฒนธรรมผ่านเสียงดนตรีแห่งอีสาน</p>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-8">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Instrument Card (พิณ) -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/phin.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('phin')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">พิณ</h2>
        <p class="text-gray-700 mt-2">เป็นเครื่องดนตรีที่บรรเลงด้วยการดีด มี ๒-๓ สาย แต่ขึ้นเป็นสองคู่ โดยขึ้นคู่ ๕ ดีดเป็นทำนองเพลง ตัว พิณและคันทวนนิยมแกะด้วยไม้ชิ้นเดียวกัน มีนมสำหรับตั้งเสียง สายพิณนิยมทำด้วยโลหะ โดยเฉพาะสายลวดเบรคจักรยาน ที่ดีดนิยมทำด้วยขาสัตว์แบนๆ เหลาให้บางพอที่จะดีด สะบัดได้</p>
      </div>

      <!-- Instrument Card (โหวด) -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/wode.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('wot')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">โหวด</h2>
        <p class="text-gray-700 mt-2">โหวด เป็นเครื่องเป่าชนิดหนึ่งที่ไม่มีลิ้น เกิดจากกระแสลมที่เป่าผ่านไม้รวกหรือไม้ เฮี้ย (ไม้กู่แคน) หรือไม้ไผ่ ด้านรู เปิดของตัวโหวดทำด้วยไม้รวกขนาดเล็ก สั้น ยาว (เรียงลำดับตามความสูงต่ำของเสียง) ติด อยู่รอบกระบอกไม้ไผ่ที่ใช้เป็นแกนกลาง ติดไว้ด้วยขี้สูด มีจำนวน ๖-๙ เลา ความ ยาวประมาณ ๒๕ เซนติเมตร เวลาเป่าจะหมุนไปรอบๆ ตามเสียงที่ต้องการ</p>
      </div>

      <!-- Instrument Card (แคน) -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/kane.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('khaen')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">แคน</h2>
        <p class="text-gray-700 mt-2">แคน เป็น เครื่องดนตรีที่เป็นที่รู้จักมากที่สุดของ ชาวภาคอีสานเหนือ และอีสานภาคกลางไม่รวมอีสาน ใต้ที่มีอิทธิพลเขมร ได้แก่ "แคน" แคนเป็นเครื่องดนตรีสมบูรณ์แบบที่สุด ที่มีประวัติ ความเป็นมาย้อนหลังไปหลายพันปี แคนทำ ด้วยไม้ซาง มีลิ้นโลหะ เช่นดีบุก เงิน หรือทองแดง บางๆ ประกอบไว้ในส่วนที่ประกอบอยู่ในเต้าแคน แคนมีหลายขนาด เช่น แคน ๗ แคน ๙ ข้าง ๆ เต้าแคน ด้านบนมีรูปิดเปิดบังคับเสียง เวลา เป่า เป่า ที่เต้าแคนด้านหน้า ใช้มือทั้งสอง ประกอบจับเต้าแคนในลักษณะเฉียงเล็กน้อย แคนเป็น เครื่องดนตรีที่บรรเลงได้ทั้งทำนองเพลงประสานเสียง และให้จังหวะในตัวเอง จึงมีลีลาการบรรเลง ที่วิจิตรพิสดารมาก ระบบเสียงของแคน เป็นทั้งระบบ ไดอะโทนิค และเพนตะโทนิค มีขั้น คู่เสียงที่เล่นได้ทั้งแบบตะวันตกและแบบ ไทยรวมทั้งคู่เสียงระดับเดียวกันอีกด้วย</p>
      </div>

      <!-- โปงลาง -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/ponglang.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('ponglang')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">โปงลาง</h2>
        <p class="text-gray-700 mt-2">โปงลางเป็นเครื่องดนตรีประเภทที่บรรเลง ทำนองด้วยการตีเพียงชนิดเดียวของภาคอีสาน โดย บรรเลงร่วมกันกับแคน พิณและเครื่องประกอบจังหวะ หรือ บรรเลงเดี่ยว ตังโปงลางทำด้วยท่อนไม้แข็งขนาดต่างๆ กันเรียงตามลำดับเสียงร้อยด้วยเชือกเป็นลูกระนาด ปลายข้างเสียงสูงผูกแขวนไว้กับกิ่งไม้ และ ข้างเสียงต่ำปล่อยทอดเยื้องลงมาคล้องไว้กับ หัวแม่เท้าของผู้บรรเลง หรือคล้องกับวัสดุ ปกติ ผู้เล่นโปงลางรางหนึ่งมี ๒ คน คือ คนบรรเลง ทำนองเพลงกับคนบรรเลงเสียงกระทบแบบคู่ประสาน ไม้ ที่ตีโปงลางทำด้วยไม้เนื้อแข็งเป็นรูปคล้าย ค้อนตีด้วยมือสองข้าง ข้างละอัน ขนาดของโปงลางไม่มีมาตรฐานแน่นอน</p>
      </div>

      <!-- หืน -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/huen.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('huen')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">หืน</h2>
        <p class="text-gray-700 mt-2">หืน เป็นเครื่องดนตรีกึ่งดีดกึ่งเป่าอย่างหนึ่งมี ทั้งที่ทำด้วยไม้ไผ่และโลหะเซาะร่องตรง กลางเป็นลิ้นในตัว เวลาเล่นประกบหืนเข้ากับ ปาก ดีดที่ปลายข้างหนึ่งด้วยนิ้วหัวแม่มือ หรือนิ้วชี้ อาศัยกระพุ้งปากเป็นกล่องเสียง ทำให้ เกิดเสียงสูงต่ำตามขนาดของกระพุ้งปากที่ทำ สามารถดีดเป็นเสียงแท้คล้ายเสียงคนออกเสียงสระ เครื่องดนตรีนี้มีเล่นกันในพวกชนเผ่ามูเซอ เรียกชื่อว่า เปี๊ยะ เครื่องดนตรีชนิดนี้มิ ได้มีเฉพาะในประเทศไทยเท่านั้น แต่มีใน ทุกส่วนของโลก เช่น แถบมองโกเลีย ปาปัว นิวกินี อัฟริกา และยุโรป นับเป็น เครื่องดนตรีโบราณชิ้นหนึ่งที่น่าศึกษาอย่างยิ่ง</p>
      </div>

      <!-- จะเข้กระบือ -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/krabue.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('krabue')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">จะเข้กระบือ</h2>
        <p class="text-gray-700 mt-2">เป็นเครื่องดนตรีสำคัญชิ้นหนึ่งในวงมโหรีเขมร เป็นเครื่องดนตรีประเภทดีดในแนวนอน มี ๓ สาย สมัยก่อนสายทำจากเส้นไหมฟั่น ปัจจุบันทำจาก สายเบรคจักรยาน การบรรเลงจะใช้มือซ้ายกด สายบนเสียงที่ต้องการ ส่วนมือขวาใช้สำหรับดีด</p>
      </div>

      <!-- กระจับปี่ -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/kachappi.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('jappey')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">กระจับปี่</h2>
        <p class="text-gray-700 mt-2">เป็นเครื่องดนตรีประเภทดีด โดยใช้กระที่ทำจากเขาสัตว์ กล่องเสียงทำ ด้วยไม้ขนุนหรือไม้สัก ส่วนปลายสุดมีรู ๒ รู ใช้ใส่ลูกบิดและร้อยสาย เมื่อบรรเลง จะตั้งขนานกับลำตัว มือขวาจับกระสำหรับดีด มือซ้ายกดที่สายเพื่อเปลี่ยนระดับเสียง</p>
      </div>

      <!-- ซอกันตรึม -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/kantrum.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('sawkantrum')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">ซอกันตรึม</h2>
        <p class="text-gray-700 mt-2">เป็นเครื่องสายใช้สี ทำ ด้วยไม้ กล่องเสียงขึงด้วยหนังงู มีช่องเสียง อยู่ด้านตรงข้ามหน้าซอ ใช้สายลวดมี ๒ สาย คันชักอยู่ระหว่างสาย คันซอยาวประมาณ ๖๐ เซนติเมตร มีลูกบิดอยู่ตอนนอกซอใช้รัด ด้วยเชือก ขนาดของซอแตกต่างกันไปตามความ ประสงค์ของผู้สร้าง โดยทั่วไปมี ๓ ขนาด คือ ขนาดเล็กเรียก ตรัวจี้ ขนาดกลางเรียกตรัวเอก ขนาดใหญ่เรียกตรัวธม</p>
      </div>

      <!-- กลองกันตรึม -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/klongkantrum.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('klongkantrum')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">กลองกันตรึม</h2>
        <p class="text-gray-700 mt-2">เป็นเครื่องหนังชนิดหนึ่งทำด้วยไม้ขุดกลวง ขึงหน้าด้านหนึ่งด้วยหนังดึงให้ตึงด้วยเชือก ใช้ดีประกอบจังหวะในวงกันตรึม</p>
      </div>

      <!-- ปี่ไสล -->
      <div class="instrument-card bg-white rounded-lg shadow-lg p-4">
        <div class="relative">
          <div class="model-container" data-model="Models/pi_salai.glb"></div>
          <div class="absolute bottom-2 right-2 flex space-x-2">
            <button onclick="playSound('pi_salai')" class="bg-[#4A7043] text-white px-4 py-2 rounded-full hover:bg-[#A52A2A]">
              เล่นเสียง
            </button>
            <button onclick="stopSound()" class="bg-[#A52A2A] text-white px-4 py-2 rounded-full hover:bg-[#4A7043]">
              หยุดเสียง
            </button>
          </div>
        </div>
        <h2 class="text-xl font-semibold mt-4 text-[#8B4513]">ปี่ไสล</h2>
        <p class="text-gray-700 mt-2">ใช้บรรเลงในวงกันตรึมเป็นปี่ประเภทลิ้นคู่เช่นเดียวกับปี่ใน</p>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-[#8B4513] text-white text-center py-4 mt-auto">
    <p>© 2025 เครื่องดนตรีอีสาน. สร้างสรรค์เพื่ออนุรักษ์วัฒนธรรม.</p>
    <p>อ้างอิงจาก กรมส่งเสริมวัฒนธรรม (สวธ.)กระทรวงวัฒนธรรม </p>
  </footer>

  <!-- JavaScript for Audio Playback and 3D Model Rendering -->
  <script>
    const audioFiles = {
      phin: new Audio('Sound/phin_ne.mp3'),
      wot: new Audio('Sound/wode.mp3'),
      khaen: new Audio('Sound/kane.mp3'),
      ponglang: new Audio('Sound/ponglang.mp3'),
      huen: new Audio('Sound/huen.mp3'),
      krabue: new Audio('Sound/krabue.mp3'),
      jappey: new Audio('Sound/jappey.mp3'),
      sawkantrum: new Audio('Sound/sawkantrum.mp3'),
      klongkantrum: new Audio('Sound/klongkantrum.mp3'),
      pi_salai: new Audio('Sound/pisli.mp3'),
      flute: new Audio('assets/sounds/flute.mp3')
    };

    function playSound(instrument) {
      Object.values(audioFiles).forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
      audioFiles[instrument].currentTime = 0;
      audioFiles[instrument].play();
    }

    function stopSound() {
      Object.values(audioFiles).forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
    }

    // Three.js setup for 3D models
    const containers = document.querySelectorAll('.model-container');
    containers.forEach(container => {
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
      const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setSize(container.clientWidth, container.clientHeight);
      container.appendChild(renderer.domElement);

      // Add lighting
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
      scene.add(ambientLight);
      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
      directionalLight.position.set(10, 10, 10);
      scene.add(directionalLight);

      // OrbitControls for interactivity
      const controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.05;
      controls.enableZoom = true;
      controls.autoRotate = false;

      // Load GLB model
      const loader = new THREE.GLTFLoader();
      const modelPath = container.getAttribute('data-model');
      loader.load(
        modelPath,
        (gltf) => {
          const model = gltf.scene;
          scene.add(model);

          // Adjust model scale and position
          const box = new THREE.Box3().setFromObject(model);
          const center = box.getCenter(new THREE.Vector3());
          const size = box.getSize(new THREE.Vector3());
          const maxDim = Math.max(size.x, size.y, size.z);
          const scale = 50.0 / maxDim; // Increased scale for larger models
          model.scale.set(scale, scale, scale);
          model.position.sub(center.multiplyScalar(scale));

          camera.position.z = maxDim * 0.8; // Closer camera position for larger view
        },
        undefined,
        (error) => {
          console.error('Error loading model:', error);
        }
      );

      // Animation loop
      function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
      }
      animate();

      // Handle window resize
      window.addEventListener('resize', () => {
        const width = container.clientWidth;
        const height = container.clientHeight;
        renderer.setSize(width, height);
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
      });
    });
  </script>
</body>
</html>